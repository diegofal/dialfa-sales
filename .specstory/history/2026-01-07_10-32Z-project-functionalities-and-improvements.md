<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session e7ac18a5-924a-41f2-a771-0c04648af069 (2026-01-07 10:32Z) -->

# Project functionalities and improvements (2026-01-07 10:32Z)

_**User (2026-01-01 23:30Z)**_

aNALIZA EL PROYECTO. que otras funcionalidades, mejoras, o modulos puede sernos util agregar? 

---

_**Agent (model claude-4.5-opus-high-thinking, mode Agent)**_

<think><details><summary>Thought Process</summary>
El usuario quiere que analice el proyecto SPISA-new para identificar funcionalidades, mejoras o mÃ³dulos que podrÃ­an ser Ãºtiles agregar. Necesito entender primero quÃ© es este proyecto y quÃ© funcionalidades ya tiene implementadas.

Voy a explorar la estructura del proyecto para entender:
1. QuÃ© tipo de aplicaciÃ³n es
2. QuÃ© mÃ³dulos ya existen
3. QuÃ© funcionalidades estÃ¡n implementadas
4. QuÃ© podrÃ­a faltar o mejorarse

EmpezarÃ© explorando el README, la estructura de carpetas del frontend, y los archivos de documentaciÃ³n existentes.</details></think>

---

Voy a analizar el proyecto SPISA-new en profundidad para entender quÃ© funcionalidades tiene y quÃ© mejoras o mÃ³dulos podrÃ­an ser Ãºtiles.

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\README.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** â€¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** â€¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\STATUS.md</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Bien, ahora tengo una vista general del proyecto. Es un sistema de gestiÃ³n de inventario y ventas (SPISA) migrado desde .NET Framework/Windows Forms a una arquitectura web moderna. DÃ©jame explorar mÃ¡s para entender las funcionalidades existentes y lo que podrÃ­a faltar.

Necesito ver:
1. El dashboard actual
2. Las pÃ¡ginas principales para entender quÃ© funcionalidades tienen
3. El esquema de base de datos para entender las entidades
4. La documentaciÃ³n adicional

Voy a explorar mÃ¡s.</details></think>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\page.tsx</summary>

</details>
</tool-use>

---

Could not find file 'd:\dialfa new\spisa-new\database\schema.sql' in the workspace.

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** â€¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Excelente. Veo que el proyecto tiene muchos componentes ya. DÃ©jame explorar mÃ¡s para entender las funcionalidades existentes y ver quÃ© se puede mejorar. Voy a revisar el prisma schema para entender el modelo de datos.</details></think>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\frontend\prisma\schema.prisma</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** â€¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\frontend\components\dashboard\DashboardMetrics.tsx</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Ahora tengo una visiÃ³n mucho mÃ¡s completa. DÃ©jame revisar tambiÃ©n el proyecto dialfa-analytics que parece ser un sistema de reportes/analytics separado, y entender quÃ© funcionalidades ya hay implementadas.</details></think>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\Dialfa\dialfa-analytics\README.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa-comparer\app.py</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** â€¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Ahora tengo una visiÃ³n completa del ecosistema. Tengo:

1. **SPISA-new**: Sistema principal de gestiÃ³n (inventario, ventas, facturaciÃ³n, clientes)
2. **dialfa-analytics**: Dashboard de Business Intelligence (Python/Flask) - conectado a la DB antigua
3. **dialfa-comparer**: Herramienta de comparaciÃ³n de precios con competidores

DÃ©jame revisar algunas pÃ¡ginas especÃ­ficas para entender mejor quÃ© funcionalidades ya tienen y quÃ© podrÃ­a faltar.</details></think>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\articles\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\sales-orders\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\invoices\page.tsx</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Ahora tengo una visiÃ³n muy completa del proyecto. Voy a revisar algunas cosas mÃ¡s para entender mejor quÃ© hay y quÃ© falta. Veamos el sistema de reportes y analytics que mencionan.</details></think>

---

Tengo una visiÃ³n completa del proyecto. DÃ©jame revisar algunos mÃ³dulos mÃ¡s especÃ­ficos para completar el anÃ¡lisis:

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\clients\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<think><details><summary>Thought Process</summary>
DÃ©jame buscar mÃ¡s especÃ­ficamente para entender quÃ© falta.</details></think>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** â€¢ Grep for "account_movements|cuenta corriente" in "d:\dialfa new\spisa-new\frontend\app" â€¢ 0 matches</summary>

Output mode: content


_No matches found_

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** â€¢ Grep for "report|estadistica|grafico|chart" in "d:\dialfa new\spisa-new\frontend\app" â€¢ 29 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `frontend/app\api\articles\route.ts` | `const enrichArticle = (article: ArticleWithCategory): EnrichedArticleDTO => \{` | L130 |
| `frontend/app\api\articles\route.ts` | `const mappedArticles = filtered.map(enrichArticle);` | L173 |
| `frontend/app\api\articles\route.ts` | `finalArticles = articles.map(enrichArticle);` | L225 |
| `frontend/app\api\articles\route.ts` | `const exactMatchDTO = enrichArticle(exactMatch);` | L242 |
| `frontend/app\dashboard\feedback\page.tsx` | `Reporta errores, sugiere mejoras o solicita nuevas funcionalidades` | L77 |
| `frontend/app\dashboard\feedback\page.tsx` | `Revisa el estado de tus reportes y sugerencias` | L181 |
| `frontend/app\dashboard\feedback\admin\page.tsx` | `Gestiona todos los reportes y sugerencias de los usuarios` | L155 |
| `frontend/app\dashboard\feedback\admin\page.tsx` | `<p>Reportado por: \{selectedFeedback.fullName\} (\{selectedFeedback.username\})</p>` | L328 |
| `frontend/app\api\dashboard\charts\route.ts` | `* Dashboard Charts API` | L2 |
| `frontend/app\api\dashboard\charts\route.ts` | `* Fetches chart data from xERP SQL Server database` | L3 |
| `frontend/app\api\dashboard\charts\route.ts` | `* GET /api/dashboard/charts` | L16 |
| `frontend/app\api\dashboard\charts\route.ts` | `* Returns chart data for dashboard visualizations` | L17 |
| `frontend/app\api\dashboard\charts\route.ts` | `console.error('Dashboard charts error:', error);` | L36 |
| `frontend/app\api\dashboard\charts\route.ts` | `error: 'Failed to fetch dashboard charts',` | L40 |
| `frontend/app\globals.css` | `--color-chart-5: var(--chart-5);` | L19 |
| `frontend/app\globals.css` | `--color-chart-4: var(--chart-4);` | L20 |
| `frontend/app\globals.css` | `--color-chart-3: var(--chart-3);` | L21 |
| `frontend/app\globals.css` | `--color-chart-2: var(--chart-2);` | L22 |
| `frontend/app\globals.css` | `--color-chart-1: var(--chart-1);` | L23 |
| `frontend/app\globals.css` | `--chart-1: oklch(0.646 0.222 41.116);` | L66 |
| `frontend/app\globals.css` | `--chart-2: oklch(0.6 0.118 184.704);` | L67 |
| `frontend/app\globals.css` | `--chart-3: oklch(0.398 0.07 227.392);` | L68 |
| `frontend/app\globals.css` | `--chart-4: oklch(0.828 0.189 84.429);` | L69 |
| `frontend/app\globals.css` | `--chart-5: oklch(0.769 0.188 70.08);` | L70 |
| `frontend/app\globals.css` | `--chart-1: oklch(0.488 0.243 264.376);` | L100 |
| `frontend/app\globals.css` | `--chart-2: oklch(0.696 0.17 162.48);` | L101 |
| `frontend/app\globals.css` | `--chart-3: oklch(0.769 0.188 70.08);` | L102 |
| `frontend/app\globals.css` | `--chart-4: oklch(0.627 0.265 303.9);` | L103 |
| `frontend/app\globals.css` | `--chart-5: oklch(0.645 0.246 16.439);` | L104 |


</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** â€¢ Grep for "notification|alerta|notificacion" in "d:\dialfa new\spisa-new\frontend" â€¢ 0 matches</summary>

Output mode: content


_No matches found_

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Ahora tengo una visiÃ³n muy completa. DÃ©jame estructurar el anÃ¡lisis de lo que existe y lo que falta/puede mejorarse.</details></think>

---

Basado en mi anÃ¡lisis exhaustivo del proyecto SPISA-new y el ecosistema Dialfa, aquÃ­ te presento un informe completo de **funcionalidades existentes**, **mÃ³dulos pendientes**, y **recomendaciones de mejora**:

---

## ğŸ“Š ANÃLISIS DEL PROYECTO SPISA-NEW

### âœ… Funcionalidades Existentes

| MÃ³dulo | Estado | CaracterÃ­sticas |
|--------|--------|-----------------|
| **Clientes** | âœ… Completo | CRUD, clasificaciÃ³n (activo/inactivo/lento), tendencias de compra, descuentos por categorÃ­a |
| **ArtÃ­culos** | âœ… Completo | CRUD, stock, clasificaciÃ³n ABC, anÃ¡lisis de velocidad de venta, control de stock mÃ­nimo |
| **CategorÃ­as** | âœ… Completo | CRUD, descuentos por forma de pago |
| **Pedidos de Venta** | âœ… Completo | CreaciÃ³n rÃ¡pida (Quick Cart), ediciÃ³n, cancelaciÃ³n, estados |
| **Facturas** | âœ… Completo | GeneraciÃ³n desde pedidos, impresiÃ³n PDF, notas de crÃ©dito, cotizaciones |
| **Remitos** | âœ… Completo | GeneraciÃ³n desde pedidos, impresiÃ³n |
| **Listas de Precios** | âœ… Completo | ActualizaciÃ³n masiva, historial de cambios, revertir |
| **Proveedores** | âœ… Completo | CRUD, gestiÃ³n de Ã³rdenes de compra |
| **Ã“rdenes a Proveedor** | âœ… Completo | ImportaciÃ³n de proformas, anÃ¡lisis de mÃ¡rgenes |
| **Certificados** | âœ… Completo | GestiÃ³n de certificados de calidad, visor TIFF, coladas |
| **Usuarios** | âœ… Completo | CRUD, roles, autenticaciÃ³n JWT |
| **AuditorÃ­a** | âœ… Completo | Logs de actividad, historial de cambios |
| **Feedback** | âœ… Completo | Sistema de sugerencias y reportes de usuarios |
| **Dashboard** | ğŸ”¶ Parcial | MÃ©tricas bÃ¡sicas (facturado hoy/mes), pedidos recientes |

---

## ğŸ”´ MÃ“DULOS Y FUNCIONALIDADES FALTANTES

### 1. **Cuenta Corriente de Clientes** ğŸ”´ CRÃTICO
**Modelo existe:** `account_movements` en el schema
**UI:** No implementada

**Lo que necesitan:**
- Vista de saldo por cliente
- Registro de pagos (efectivo, cheque, transferencia)
- Estado de cuenta imprimible
- Alertas de saldos vencidos
- ConciliaciÃ³n de pagos con facturas

---

### 2. **Reportes y Analytics** ğŸ”´ IMPORTANTE
**Actualmente:** Solo mÃ©tricas bÃ¡sicas en dashboard. El proyecto `dialfa-analytics` (Flask/Python) tiene reportes pero estÃ¡ separado.

**Reportes que deberÃ­an integrarse:**

| Reporte | Prioridad |
|---------|-----------|
| Ventas por perÃ­odo (dÃ­a/mes/aÃ±o) | Alta |
| Ventas por cliente | Alta |
| Ventas por categorÃ­a/artÃ­culo | Alta |
| Rentabilidad por producto | Alta |
| Clientes con saldo pendiente | Alta |
| Movimientos de stock | Media |
| ArtÃ­culos mÃ¡s/menos vendidos | Media |
| Comparativo de perÃ­odos | Media |
| ExportaciÃ³n a Excel/PDF | Alta |

---

### 3. **IntegraciÃ³n AFIP (Factura ElectrÃ³nica)** ğŸ”´ IMPORTANTE para Argentina

Si operan en Argentina, necesitan:
- AutorizaciÃ³n CAE/CAEA
- GeneraciÃ³n de comprobantes electrÃ³nicos
- Libro IVA digital
- SincronizaciÃ³n con portal AFIP

---

### 4. **Sistema de Notificaciones** ğŸŸ¡ MEDIO

**No existe actualmente**

Sugerencias:
- Stock bajo mÃ­nimo
- Facturas vencidas
- Cheques prÃ³ximos a vencer
- Pedidos pendientes hace X dÃ­as
- Alertas de precios de competencia (integrar con `dialfa-comparer`)

---

## ğŸ’¡ MEJORAS SUGERIDAS

### A) Dashboard Mejorado
El dashboard actual es muy bÃ¡sico. Recomiendo:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š DASHBOARD EJECUTIVO                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Facturado    â”‚ Cobrado      â”‚ Saldo        â”‚ Pedidos      â”‚
â”‚ $X.XXX       â”‚ $X.XXX       â”‚ Pendiente    â”‚ Pendientes   â”‚
â”‚ este mes     â”‚ este mes     â”‚ $X.XXX       â”‚ XX           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ GrÃ¡fico de Ventas (Ãºltimos 12 meses)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš ï¸ ALERTAS                                                 â”‚
â”‚ â€¢ 5 artÃ­culos con stock bajo mÃ­nimo                       â”‚
â”‚ â€¢ 3 facturas vencidas hace mÃ¡s de 30 dÃ­as                 â”‚
â”‚ â€¢ 2 cheques vencen esta semana                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”„ Actividad Reciente | ğŸ“‹ Pedidos del dÃ­a                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### B) IntegraciÃ³n con `dialfa-comparer`

Tienes una herramienta de comparaciÃ³n de precios con competidores (Citizen, Cintolo, Zaloze). Sugerencias:

1. **Widget en artÃ­culos:** Mostrar precio de competencia
2. **Alertas de precio:** Notificar cuando competidor baja precios
3. **Margen sugerido:** Calcular precio Ã³ptimo basado en competencia

---

### C) IntegraciÃ³n con `dialfa-analytics`

El proyecto de analytics tiene funcionalidades avanzadas que podrÃ­an integrarse:
- AnÃ¡lisis de riesgo crediticio
- Forecast de cash flow
- SegmentaciÃ³n RFM de clientes
- Recomendaciones de reposiciÃ³n

---

### D) PWA / AplicaciÃ³n MÃ³vil

El README menciona PWA como objetivo. Sugerencias:
- Modo offline para consulta de precios/stock
- EscÃ¡ner de cÃ³digo de barras
- Notificaciones push

---

### E) Funcionalidades Operativas Adicionales

| Funcionalidad | DescripciÃ³n | Prioridad |
|---------------|-------------|-----------|
| **BÃºsqueda global (Ctrl+K)** | Buscar artÃ­culos, clientes, pedidos desde cualquier lugar | Alta |
| **Favoritos/Acceso rÃ¡pido** | Clientes o artÃ­culos frecuentes | Media |
| **Presupuestos formales** | Diferente a pedidos, con vencimiento | Media |
| **Comisiones de vendedores** | Si tienen vendedores asignados | Baja |
| **Multi-sucursal** | Si manejan mÃ¡s de una ubicaciÃ³n | Baja |
| **Control de caja** | Apertura/cierre de caja diario | Media |
| **ImpresiÃ³n de etiquetas** | Para productos con cÃ³digo de barras | Baja |

---

## ğŸ¯ PLAN DE PRIORIDADES SUGERIDO

### Fase 1 - CRÃTICO (1-2 meses)
1. âœ… **Cuenta Corriente** - Es funcionalidad core de cualquier sistema de ventas
2. âœ… **Reportes bÃ¡sicos** - Ventas, stock, saldos (mÃ­nimo exportar a Excel)
3. âœ… **Dashboard mejorado** - MÃ©tricas clave + alertas

### Fase 2 - IMPORTANTE (2-3 meses)
4. ğŸ”¶ **Sistema de notificaciones** - Alertas de stock, vencimientos
5. ğŸ”¶ **BÃºsqueda global (Ctrl+K)** - Productividad
6. ğŸ”¶ **IntegraciÃ³n AFIP** (si aplica en Argentina)

### Fase 3 - NICE-TO-HAVE (3+ meses)
7. â¬œ IntegraciÃ³n `dialfa-comparer` en UI
8. â¬œ PWA con modo offline
9. â¬œ Migrar analytics de Python a Next.js

---

## ğŸ¤” PREGUNTAS PARA PRIORIZAR

1. **Â¿Manejan cuenta corriente de clientes actualmente?** Si sÃ­, es urgente implementarla.
2. **Â¿Emiten factura electrÃ³nica AFIP?** Â¿O solo usan factura manual?
3. **Â¿QuÃ© reportes usan mÃ¡s frecuentemente hoy?**
4. **Â¿CuÃ¡ntos usuarios acceden al sistema simultÃ¡neamente?**
5. **Â¿Necesitan acceso mÃ³vil en terreno (vendedores, depÃ³sito)?**

Las respuestas a estas preguntas pueden cambiar las prioridades significativamente. Â¿Quieres que profundice en alguno de estos mÃ³dulos o que empecemos a diseÃ±ar/implementar alguno especÃ­fico?

---

