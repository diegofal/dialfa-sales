<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 1fa85c7b-6b35-4195-b356-749ed427e355 (2025-12-19 11:06Z) -->

# Columna saldo en clientes (2025-12-19 11:06Z)

_**User (2025-12-18 17:19Z)**_

La columan saldo en clientes ya no es necesaria. removela del sistema y cualquier funcionalidad y campos asociados a esto. no se va a usar.

---

_**Agent (model claude-4.5-sonnet-thinking, mode Agent)**_

<think><details><summary>Thought Process</summary>
El usuario quiere que remueva la columna "Saldo" de clientes del sistema. Mirando la imagen, puedo ver que hay una columna "Saldo" que muestra montos (algunos en rojo negativos). 

Necesito:
1. Buscar en el código dónde se está manejando este campo de saldo en clientes
2. Remover el campo de la base de datos (schema de Prisma)
3. Remover cualquier funcionalidad asociada
4. Remover del frontend (UI components)

Primero necesito entender la estructura actual del proyecto. Parece ser un sistema con frontend en Next.js/React y backend con Prisma. Voy a buscar información sobre el modelo de Cliente y cómo se usa el saldo.</details></think>

---

Entendido. Voy a remover la columna "Saldo" de clientes del sistema completamente. Primero necesito buscar dónde se está usando este campo.

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** • Grep for "saldo|balance" in "d:\dialfa new\spisa-new\frontend" • 18 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `frontend\lib\utils\mapper.ts` | `currentBalance: parseFloat(String(c.current_balance)),` | L82 |
| `frontend\components\clients\ClientsTable.tsx` | `sortKey="CurrentBalance"` | L102 |
| `frontend\components\clients\ClientsTable.tsx` | `Saldo` | L108 |
| `frontend\components\clients\ClientsTable.tsx` | `<TableCell className=\{client.currentBalance < 0 ? 'text-red-600' : ''\}>` | L134 |
| `frontend\components\clients\ClientsTable.tsx` | `\{formatCurrency(client.currentBalance)\}` | L135 |
| `frontend\app\api\clients\[id]\route.ts` | `current_balance: validatedData.currentBalance,` | L105 |
| `frontend\lib\validations\schemas.ts` | `currentBalance: z.coerce.number().default(0),` | L55 |
| `frontend\lib\actions\clients.ts` | `current_balance: validated.currentBalance,` | L44 |
| `frontend\lib\actions\clients.ts` | `current_balance: validated.currentBalance,` | L114 |
| `frontend\app\api\clients\route.ts` | `current_balance: validatedData.currentBalance ?? 0,` | L99 |
| `frontend\types\api.ts` | `currentBalance: number;` | L29 |
| `frontend\types\api.ts` | `currentBalance?: number;` | L53 |
| `frontend\lib\hooks\useDashboard.ts` | `OutstandingBalance: number;` | L32 |
| `frontend\lib\db\xerpQueries.ts` | `* Get top customers by outstanding balance` | L66 |
| `frontend\lib\db\xerpQueries.ts` | `SUM(dt.ov_amount * 1.21) as OutstandingBalance,` | L71 |
| `frontend\lib\db\xerpQueries.ts` | `ORDER BY OutstandingBalance DESC` | L86 |
| `frontend\lib\db\xerpQueries.ts` | `AVG(dt.ov_amount * 1.21) as AvgBalance` | L142 |
| `frontend\lib\db\xerpQueries.ts` | `OutstandingBalance: number;` | L159 |


</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "**/schema.prisma" • **1** result in **1** directory</summary>

Directory: **d:\dialfa new\spisa-new\frontend** (1 file)

| File |
|------|
| `prisma\schema.prisma` |

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\types\api.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\components\clients\ClientsTable.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\prisma\schema.prisma</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\lib\validations\schemas.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\lib\actions\clients.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\lib\utils\mapper.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\app\api\clients\route.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\app\api\clients\[id]\route.ts</summary>

</details>
</tool-use>

---

Ahora voy a crear un plan para remover completamente el campo `current_balance` (saldo) de clientes:

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [-] Remover columna Saldo de ClientsTable.tsx
- [ ] Remover currentBalance de types/api.ts
- [ ] Remover currentBalance de schemas.ts
- [ ] Remover current_balance de mapper.ts
- [ ] Remover current_balance de actions/clients.ts
- [ ] Remover current_balance de API routes
- [ ] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

Perfecto. Ahora voy a remover sistemáticamente todos los campos y funcionalidades relacionadas con el saldo de clientes:

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\components\clients\ClientsTable.tsx</summary>

**Chunk 1**
Lines added: undefined, lines removed: 9

```diff
@@ -99,13 +99,4 @@
                  Ciudad
                &lt;/SortableTableHead&gt;
-               &lt;SortableTableHead
-                 sortKey="CurrentBalance"
-                 currentSortBy={currentSortBy}
-                 currentSortDescending={currentSortDescending}
-                 onSort={onSort}
-                 align="right"
-               &gt;
-                 Saldo
-               &lt;/SortableTableHead&gt;
                &lt;SortableTableHead&gt;Estado&lt;/SortableTableHead&gt;
                &lt;TableHead className="text-right"&gt;Acciones&lt;/TableHead&gt;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\components\clients\ClientsTable.tsx</summary>

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -106,5 +106,5 @@
              {clients.length === 0 ? (
                &lt;TableRow&gt;
-                 &lt;TableCell colSpan={7} className="text-center text-muted-foreground"&gt;
+                 &lt;TableCell colSpan={6} className="text-center text-muted-foreground"&gt;
                    No hay clientes registrados
                  &lt;/TableCell&gt;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\components\clients\ClientsTable.tsx</summary>

**Chunk 1**
Lines added: undefined, lines removed: 3

```diff
@@ -123,7 +123,4 @@
                    &lt;/TableCell&gt;
                    &lt;TableCell&gt;{client.city || '-'}&lt;/TableCell&gt;
-                   &lt;TableCell className={client.currentBalance &lt; 0 ? 'text-red-600' : ''}&gt;
-                     {formatCurrency(client.currentBalance)}
-                   &lt;/TableCell&gt;
                    &lt;TableCell&gt;
                      &lt;Badge variant={client.isActive ? 'default' : 'secondary'}&gt;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\components\clients\ClientsTable.tsx</summary>

**Chunk 1**
Lines added: undefined, lines removed: 7

```diff
@@ -53,11 +53,4 @@
      }
    };
- 
-   const formatCurrency = (value: number) =&gt; {
-     return new Intl.NumberFormat('es-AR', {
-       style: 'currency',
-       currency: 'ARS',
-     }).format(value);
-   };
  
    return (
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] Remover columna Saldo de ClientsTable.tsx
- [-] Remover currentBalance de types/api.ts
- [ ] Remover currentBalance de schemas.ts
- [ ] Remover current_balance de mapper.ts
- [ ] Remover current_balance de actions/clients.ts
- [ ] Remover current_balance de API routes
- [ ] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\types\api.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -27,5 +27,4 @@
    email: string | null;
    creditLimit: number | null;
-   currentBalance: number;
    isActive: boolean;
    taxConditionName: string | null;
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\types\api.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -50,5 +50,4 @@
    transporterId?: number;
    creditLimit?: number;
-   currentBalance?: number;
  }
  
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] Remover columna Saldo de ClientsTable.tsx
- [x] Remover currentBalance de types/api.ts
- [-] Remover currentBalance de schemas.ts
- [ ] Remover current_balance de mapper.ts
- [ ] Remover current_balance de actions/clients.ts
- [ ] Remover current_balance de API routes
- [ ] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\lib\validations\schemas.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -53,5 +53,4 @@
    sellerId: z.coerce.number().int().optional().nullable(),
    creditLimit: z.coerce.number().min(0).optional().nullable(),
-   currentBalance: z.coerce.number().default(0),
    isActive: z.boolean().optional().default(true),
  });
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] Remover columna Saldo de ClientsTable.tsx
- [x] Remover currentBalance de types/api.ts
- [x] Remover currentBalance de schemas.ts
- [-] Remover current_balance de mapper.ts
- [ ] Remover current_balance de actions/clients.ts
- [ ] Remover current_balance de API routes
- [ ] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\lib\utils\mapper.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -80,5 +80,4 @@
      transporterName: transporters?.name || '',
      creditLimit: c.credit_limit ? parseFloat(String(c.credit_limit)) : null,
-     currentBalance: parseFloat(String(c.current_balance)),
      isActive: c.is_active as boolean,
      sellerId: c.seller_id as bigint | null,
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] Remover columna Saldo de ClientsTable.tsx
- [x] Remover currentBalance de types/api.ts
- [x] Remover currentBalance de schemas.ts
- [x] Remover current_balance de mapper.ts
- [-] Remover current_balance de actions/clients.ts
- [ ] Remover current_balance de API routes
- [ ] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\lib\actions\clients.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -42,5 +42,4 @@
          seller_id: validated.sellerId,
          credit_limit: validated.creditLimit,
-         current_balance: validated.currentBalance,
          is_active: validated.isActive,
          created_at: new Date(),
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\lib\actions\clients.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -111,5 +111,4 @@
          seller_id: validated.sellerId,
          credit_limit: validated.creditLimit,
-         current_balance: validated.currentBalance,
          is_active: validated.isActive,
          email: validated.email || null,
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] Remover columna Saldo de ClientsTable.tsx
- [x] Remover currentBalance de types/api.ts
- [x] Remover currentBalance de schemas.ts
- [x] Remover current_balance de mapper.ts
- [x] Remover current_balance de actions/clients.ts
- [-] Remover current_balance de API routes
- [ ] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\app\api\clients\route.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -97,5 +97,4 @@
          seller_id: validatedData.sellerId,
          credit_limit: validatedData.creditLimit,
-         current_balance: validatedData.currentBalance ?? 0,
          is_active: validatedData.isActive ?? true,
          created_at: new Date(),
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\app\api\clients\[id]\route.ts</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -103,5 +103,4 @@
          seller_id: validatedData.sellerId,
          credit_limit: validatedData.creditLimit,
-         current_balance: validatedData.currentBalance,
          is_active: validatedData.isActive,
          updated_at: new Date(),
```

</details>

</tool-use>

---

Ahora necesito verificar si hay otros archivos que usen `currentBalance` o `current_balance`:

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** • Grep for "currentBalance|current_balance" in "d:\dialfa new\spisa-new\frontend" • 0 matches</summary>

Output mode: content


_No matches found_

</details>
</tool-use>

---

Excelente, ya no hay referencias en el código TypeScript. Ahora voy a crear la migración para eliminar la columna de la base de datos:

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] Remover columna Saldo de ClientsTable.tsx
- [x] Remover currentBalance de types/api.ts
- [x] Remover currentBalance de schemas.ts
- [x] Remover current_balance de mapper.ts
- [x] Remover current_balance de actions/clients.ts
- [x] Remover current_balance de API routes
- [-] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: d:\dialfa new\spisa-new\frontend\prisma\schema.prisma</summary>

**Chunk 1**
Lines added: undefined, lines removed: 1

```diff
@@ -118,5 +118,4 @@
    transporter_id    Int?
    credit_limit      Decimal?            @db.Decimal(18, 2)
-   current_balance   Decimal             @db.Decimal(18, 2)
    is_active         Boolean
    created_at        DateTime            @db.Timestamptz(6)
```

</details>

</tool-use>

---

Ahora voy a crear el archivo de migración SQL:

---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_cmd">
<details><summary>Tool use: **run_terminal_cmd** • Run command: cd "d:\dialfa new\spisa-new\frontend" && date +%Y%m%d%H%M%S</summary>

```bash
cd "d:\dialfa new\spisa-new\frontend" && date +%Y%m%d%H%M%S
```

```
20251219080822

```
</details>
</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="write">

<details><summary>Tool use: **write** • Edit file: d:\dialfa new\spisa-new\frontend\prisma\migrations\20251219080822_remove_current_balance_from_clients\migration.sql</summary>

**Chunk 1**
Lines added: 3, lines removed: 1

```diff
@@ -1,1 +1,3 @@
- 
+ -- DropColumn: Remove current_balance column from clients table
+ ALTER TABLE "clients" DROP COLUMN "current_balance";
+ 
```

</details>

</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] Remover columna Saldo de ClientsTable.tsx
- [x] Remover currentBalance de types/api.ts
- [x] Remover currentBalance de schemas.ts
- [x] Remover current_balance de mapper.ts
- [x] Remover current_balance de actions/clients.ts
- [x] Remover current_balance de API routes
- [x] Crear migración para eliminar columna de la BD

</details>
</tool-use>

---

Perfecto. Ahora voy a verificar si hay errores de linter en los archivos modificados:

---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** • Read lints for 7 files</summary>
      
Lint paths:

- `d:\dialfa new\spisa-new\frontend\components\clients\ClientsTable.tsx`
- `d:\dialfa new\spisa-new\frontend\types\api.ts`
- `d:\dialfa new\spisa-new\frontend\lib\validations\schemas.ts`
- `d:\dialfa new\spisa-new\frontend\lib\utils\mapper.ts`
- `d:\dialfa new\spisa-new\frontend\lib\actions\clients.ts`
- `d:\dialfa new\spisa-new\frontend\app\api\clients\route.ts`
- `d:\dialfa new\spisa-new\frontend\app\api\clients\[id]\route.ts`

Lint results


**No lint errors found**
</details>
</tool-use>

---

Excelente. Ahora voy a verificar si hay algún componente de formulario que use el campo currentBalance:

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "**/ClientForm.tsx" • **0** result in **1** directory</summary>

Directory: **d:\dialfa new\spisa-new\frontend** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "**/*client*form*.tsx" • **0** result in **1** directory</summary>

Directory: **d:\dialfa new\spisa-new\frontend** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** • Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\clients\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "**/ClientDialog.tsx" • **1** result in **1** directory</summary>

Directory: **d:\dialfa new\spisa-new\frontend** (1 file)

| File |
|------|
| `components\clients\ClientDialog.tsx` |

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: d:\dialfa new\spisa-new\frontend\components\clients\ClientDialog.tsx</summary>

</details>
</tool-use>

---

Perfecto, el formulario no usa el campo `currentBalance`. Ahora voy a verificar si hay referencias en el dashboard o en analytics:

---

Search failed: rg: frontend\nul: Incorrect function. (os error 1) (exit 2, root: d:/dialfa new/spisa-new)

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** • Grep for "OutstandingBalance" in "d:\dialfa new\spisa-new\frontend" • 4 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `frontend\lib\hooks\useDashboard.ts` | `OutstandingBalance: number;` | L32 |
| `frontend\lib\db\xerpQueries.ts` | `SUM(dt.ov_amount * 1.21) as OutstandingBalance,` | L71 |
| `frontend\lib\db\xerpQueries.ts` | `ORDER BY OutstandingBalance DESC` | L86 |
| `frontend\lib\db\xerpQueries.ts` | `OutstandingBalance: number;` | L159 |


</details>
</tool-use>

---

Veo que hay referencias a `OutstandingBalance` pero son diferentes: estas consultan datos del sistema legacy XERP y no tienen relación con el campo `current_balance` de la tabla `clients` que acabamos de eliminar. Estas son métricas calculadas del dashboard.

Ahora voy a verificar si la migración se puede ejecutar correctamente. Primero déjame leer el script de migración de Railway para entender la estructura:

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** • Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

Ahora voy a crear un resumen de los cambios realizados:

Perfecto. He completado la eliminación del campo "Saldo" (current_balance) del sistema. Aquí está lo que se hizo:

## Cambios Realizados:

### 1. **Frontend - Interfaz de Usuario**
   - ✅ Removida la columna "Saldo" de `ClientsTable.tsx`
   - ✅ Eliminada la función `formatCurrency` que ya no se necesita
   - ✅ Actualizado el `colSpan` de 7 a 6 para el mensaje "No hay clientes"

### 2. **Types y Validaciones**
   - ✅ Removido `currentBalance` de `types/api.ts` (interfaces `ClientDto` y `CreateClientRequest`)
   - ✅ Removido `currentBalance` del schema de validación en `lib/validations/schemas.ts`

### 3. **Mappers**
   - ✅ Removido el mapeo de `current_balance` a `currentBalance` en `lib/utils/mapper.ts`

### 4. **Server Actions**
   - ✅ Eliminado `current_balance` de las operaciones de creación y actualización en `lib/actions/clients.ts`

### 5. **API Routes**
   - ✅ Removido `current_balance` de las API routes en:
     - `app/api/clients/route.ts` (POST)
     - `app/api/clients/[id]/route.ts` (PUT)

### 6. **Base de Datos**
   - ✅ Actualizado el `schema.prisma` removiendo el campo `current_balance` del modelo `clients`
   - ✅ Creada la migración SQL: `20251219080822_remove_current_balance_from_clients/migration.sql`

La migración SQL ejecutará:
```sql
ALTER TABLE "clients" DROP COLUMN "current_balance";
```

### ⚠️ Próximo Paso Necesario:

Para aplicar estos cambios a la base de datos, necesitas ejecutar:

```bash
cd frontend
npx prisma migrate deploy
```

O si estás en desarrollo local:

```bash
npx prisma migrate dev
```

Todos los archivos están actualizados y no hay errores de linter. El campo "Saldo" ha sido completamente removido del sistema.

---

