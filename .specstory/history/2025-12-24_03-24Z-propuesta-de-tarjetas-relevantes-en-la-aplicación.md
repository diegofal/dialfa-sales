<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 053ab93b-1670-4223-a331-7edb1858a858 (2025-12-24 03:24Z) -->

# Propuesta de tarjetas relevantes en la aplicaci√≥n (2025-12-24 03:24Z)

_**User (2025-12-23 15:16Z)**_

QUIERO EMPEZAR a pensar que cards relevantes puedo mostrar aca. No creo que toatl de facturas sea algo importante. que pensas? lo mismo en otros sectores de la app. Analiza todo y propone algo. 

---

_**Agent (model claude-4.5-sonnet-thinking, mode Ask)**_

<think><details><summary>Thought Process</summary>
The user is asking me to analyze what relevant cards should be shown in the dashboard. They mention that "total invoices" might not be important, and want me to analyze the entire app and propose something better for the dashboard and other sections.

Let me first understand what the current state of the application is. I should look at:
1. The dashboard/home page to see what cards are currently shown
2. The overall structure of the application
3. What data is available and what would be most useful for users

Let me start by exploring the frontend structure and finding the dashboard/home page.</details></think>

---

Voy a analizar la estructura de la aplicaci√≥n para entender qu√© cards se est√°n mostrando actualmente y proponer mejoras basadas en las necesidades reales del negocio.

---

<tool-use data-tool-type="search" data-tool-name="file_search">
<details>
            <summary>Tool use: **file_search** ‚Ä¢ Searched codebase "dashboard home page" ‚Ä¢ **10** results</summary>
        
| File |
|------|
| `d:\Dialfa\dialfa-analytics\routes\dashboard.py` |
| `d:\Dialfa\dialfa-analytics\static\js\dashboard.js` |
| `d:\Dialfa\dialfa-analytics\templates\dashboard.html` |
| `d:\dialfa new\spisa-new\frontend\app\dashboard\page.tsx` |
| `d:\dialfa new\spisa-new\frontend\app\dashboard\layout.tsx` |
| `d:\dialfa new\spisa-new\frontend\lib\hooks\useDashboard.ts` |
| `d:\Dialfa\dialfa-analytics\templates\sales\dashboard.html` |
| `d:\dialfa new\spisa-new\frontend\app\dashboard\users\page.tsx` |
| `d:\dialfa new\spisa-new\frontend\app\dashboard\clients\page.tsx` |
| `d:\Dialfa\dialfa-analytics\templates\purchase\dashboard.html` |

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\lib\hooks\useDashboard.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\app\api\dashboard\metrics\route.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="file_search">
<details>
            <summary>Tool use: **file_search** ‚Ä¢ Searched codebase "DashboardMetrics component" ‚Ä¢ **3** results</summary>
        
| File |
|------|
| `d:\dialfa new\spisa-new\frontend\components\dashboard\DashboardMetrics.tsx` |
| `d:\dialfa new\spisa-new\frontend\components\dashboard\MetricCard.tsx` |
| `d:\dialfa new\spisa-new\frontend\app\api\dashboard\metrics\route.ts` |

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\components\dashboard\DashboardMetrics.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\components\dashboard\MetricCard.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** ‚Ä¢ Grep for "XERP_.*=" in "d:\dialfa new\spisa-new\frontend\lib\db" ‚Ä¢ 7 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `frontend/lib/db\xerpQueries.ts` | `export const XERP_TOTAL_OUTSTANDING = `` | L11 |
| `frontend/lib/db\xerpQueries.ts` | `export const XERP_TOTAL_OVERDUE = `` | L25 |
| `frontend/lib/db\xerpQueries.ts` | `export const XERP_BILLED_MONTHLY = `` | L41 |
| `frontend/lib/db\xerpQueries.ts` | `export const XERP_BILLED_TODAY = `` | L56 |
| `frontend/lib/db\xerpQueries.ts` | `export const XERP_TOP_CUSTOMERS = `` | L68 |
| `frontend/lib/db\xerpQueries.ts` | `export const XERP_MONTHLY_SALES_TREND = `` | L92 |
| `frontend/lib/db\xerpQueries.ts` | `export const XERP_EXECUTIVE_SUMMARY = `` | L135 |


</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\lib\db\xerpQueries.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** ‚Ä¢ Grep for "card|Card|metrics|Metrics" in "d:\dialfa new\spisa-new\frontend\app\dashboard" ‚Ä¢ 11 matches</summary>

Output mode: files_with_matches


| File |
|------|
| `frontend/app/dashboard\invoices\[id]\page.tsx` |
| `frontend/app/dashboard\invoices\page.tsx` |
| `frontend/app/dashboard\delivery-notes\[id]\page.tsx` |
| `frontend/app/dashboard\certificates\page.tsx` |
| `frontend/app/dashboard\sales-orders\page.tsx` |
| `frontend/app/dashboard\delivery-notes\page.tsx` |
| `frontend/app/dashboard\settings\page.tsx` |
| `frontend/app/dashboard\invoices\new\page.tsx` |
| `frontend/app/dashboard\page.tsx` |
| `frontend/app/dashboard\clients\page.tsx` |
| `frontend/app/dashboard\categories\page.tsx` |


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\invoices\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\sales-orders\page.tsx</summary>

</details>
</tool-use>

---

Ahora voy a buscar si hay alg√∫n an√°lisis de inventario o art√≠culos que pueda ser relevante:

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\articles\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** ‚Ä¢ Grep for "stock|Stock|inventory|Inventory" in "d:\dialfa new\spisa-new\frontend\lib\hooks" ‚Ä¢ 4 matches</summary>

Output mode: files_with_matches


| File |
|------|
| `frontend/lib/hooks\useInvoices.ts` |
| `frontend/lib/hooks\useSalesOrders.ts` |
| `frontend/lib/hooks\useStockMovements.ts` |
| `frontend/lib/hooks\useArticles.ts` |


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\lib\hooks\useArticles.ts</summary>

</details>
</tool-use>

---

Ahora d√©jame ver si hay datos sobre clientes y facturaci√≥n vencida:

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\app\dashboard\clients\page.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\Dialfa\dialfa-analytics\database\queries.py</summary>

</details>
</tool-use>

---

Perfecto. Ahora d√©jame revisar qu√© otros componentes o m√©tricas pueden estar disponibles en el dashboard de analytics:

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: d:\dialfa new\spisa-new\frontend\components\dashboard\RecentSalesOrders.tsx</summary>

</details>
</tool-use>

---

Perfecto. Ahora tengo todo el contexto. D√©jame analizar y proponer mejoras:

## An√°lisis de Cards en el Dashboard - Propuesta de Mejora

Ten√©s raz√≥n en cuestionarlo. Actualmente mostr√°s solo **2 cards**:
1. **Facturado en [Mes]** - Ventas mensuales
2. **Facturado Hoy** - Ventas diarias

### Problemas identificados:

**Lo que est√° mal:**
- Las cards solo muestran **facturaci√≥n** (ingresos), pero no dan contexto de **cobros reales** ni **flujo de caja**
- No hay informaci√≥n sobre **cuentas por cobrar** ni **riesgo crediticio**
- Faltan m√©tricas de **inventario** que son cr√≠ticas para una empresa de distribuci√≥n
- No hay visibilidad de **clientes con deuda vencida** ni prioridades de cobranza
- **"Total de facturas"** efectivamente no aporta valor - solo es un contador

### Lo que S√ç es relevante para Dialfa:

Bas√°ndome en las queries disponibles en `dialfa-analytics` y el modelo de negocio (distribuci√≥n industrial con certificados), estas son las **cards que realmente importan**:

#### **CARDS FINANCIERAS** (Prioridad ALTA)
1. **üí∞ Cuentas por Cobrar Total** (`XERP_TOTAL_OUTSTANDING`)
   - Cu√°nto te deben en total (ARS)
   - KPI cr√≠tico de liquidez

2. **‚ö†Ô∏è Deuda Vencida** (`XERP_TOTAL_OVERDUE`) 
   - Cu√°nto est√° vencido y no cobrado
   - Indicador de riesgo crediticio
   - Con % sobre el total de cuentas por cobrar

3. **üìä Facturado Este Mes** (ya lo ten√©s)
   - Mantener pero agregarle comparaci√≥n con mes anterior
   - Mostrar tendencia (‚Üë o ‚Üì)

4. **üíµ Cobrado Este Mes** (`collectedMonthly` de SPISA)
   - Cu√°nto efectivamente entr√≥ de dinero
   - Diferenciando efectivo vs electr√≥nico
   - **MUY importante**: facturar != cobrar

#### **CARDS OPERACIONALES** (Prioridad MEDIA-ALTA)
5. **üì¶ Art√≠culos con Stock Cr√≠tico** 
   - Contador de art√≠culos bajo punto de reorden
   - Query: Adaptaci√≥n de `REORDER_ANALYSIS` con `Priority IN ('OUT_OF_STOCK', 'CRITICAL', 'URGENT')`

6. **üö® √ìrdenes Pendientes de Facturar**
   - Sales Orders con status `PENDING` que tienen items
   - Representa trabajo pendiente / pipeline

7. **üìã Remitos Pendientes (Sin Facturar)**
   - Delivery Notes sin invoice asociado
   - Importante para control de gesti√≥n

#### **CARDS DE CLIENTES** (Prioridad MEDIA)
8. **üë• Clientes con Riesgo Alto**
   - Query: `XERP_CREDIT_RISK_ANALYSIS` con `RiskLevel = 'HIGH RISK'`
   - Muestra cantidad de clientes que tienen >50% deuda vencida

9. **‚è∞ DSO (Days Sales Outstanding)**
   - D√≠as promedio de cobro
   - Query: `XERP_COLLECTION_PERFORMANCE` ‚Üí columna `DSO`
   - Benchmark: <60 d√≠as es saludable

#### **CARDS DE INVENTARIO** (Opcional pero √∫til)
10. **üí∏ Valor Total de Inventario**
    - Query: `INVENTORY_SUMMARY` ‚Üí `TotalValue`
    - Importante para gesti√≥n de capital de trabajo

11. **üêå Stock Muerto/Lento**
    - Query: `SLOW_MOVING_ANALYSIS` ‚Üí contar categor√≠a `'Dead Stock'` y `'Slow Moving'`
    - Capital inmovilizado que no genera retorno

---

### Propuesta de Layout para Dashboard Principal

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  BUSINESS INTELLIGENCE DASHBOARD                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí∞ Cuentas   ‚îÇ ‚ö†Ô∏è Deuda     ‚îÇ üìä Facturado ‚îÇ üíµ Cobrado   ‚îÇ
‚îÇ por Cobrar   ‚îÇ Vencida      ‚îÇ Este Mes     ‚îÇ Este Mes     ‚îÇ
‚îÇ              ‚îÇ              ‚îÇ              ‚îÇ              ‚îÇ
‚îÇ $ 2.5M       ‚îÇ $ 450K       ‚îÇ $ 1.2M       ‚îÇ $ 950K       ‚îÇ
‚îÇ +15% vs mes ‚îÇ 18% del total‚îÇ +8% vs prev ‚îÇ 79% efectivo ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üì¶ Stock     ‚îÇ üö® Pedidos   ‚îÇ üìã Remitos   ‚îÇ üë• Clientes  ‚îÇ
‚îÇ Cr√≠tico      ‚îÇ Pendientes   ‚îÇ Sin Facturar ‚îÇ Riesgo Alto  ‚îÇ
‚îÇ              ‚îÇ              ‚îÇ              ‚îÇ              ‚îÇ
‚îÇ 12 art√≠culos ‚îÇ 8 √≥rdenes    ‚îÇ 3 remitos    ‚îÇ 5 clientes   ‚îÇ
‚îÇ Ver detalle ‚Üí‚îÇ $ 450K total ‚îÇ Ver ‚Üí        ‚îÇ Ver ‚Üí        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üõí √öltimos Pedidos                                         ‚îÇ
‚îÇ (mantener como est√°, funciona bien)                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚å®Ô∏è Atajos de Teclado                                        ‚îÇ
‚îÇ (mover al final o quitar del dashboard principal)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### Recomendaciones por Prioridad

**üöÄ Implementar AHORA:**
1. Cuentas por Cobrar Total
2. Deuda Vencida (con %)
3. Cobrado Este Mes (cash flow real)
4. Agregar trending a "Facturado Este Mes"

**üìÖ Siguiente Sprint:**
5. Stock Cr√≠tico (vital para operaciones)
6. Pedidos Pendientes
7. Clientes con Riesgo Alto

**üîÆ Futuro (opcional):**
8. DSO
9. Remitos Sin Facturar
10. Valor de Inventario
11. Stock Muerto

---

### Consideraciones T√©cnicas

Las queries ya existen en `dialfa-analytics/database/queries.py`, solo necesit√°s:

1. **Crear nuevas rutas API** en `frontend/app/api/dashboard/metrics/route.ts` para ejecutar las queries adicionales
2. **Actualizar interfaces** en `frontend/lib/hooks/useDashboard.ts`
3. **Crear nuevos MetricCards** en `frontend/components/dashboard/DashboardMetrics.tsx`

**Datos que ya est√°n disponibles:**
- ‚úÖ `XERP_TOTAL_OUTSTANDING` 
- ‚úÖ `XERP_TOTAL_OVERDUE`
- ‚úÖ `SPISA_COLLECTED_MONTHLY` (Transactions table)
- ‚úÖ Sales Orders count (Prisma query)

**Datos que requieren nueva implementaci√≥n:**
- ‚ùå Stock cr√≠tico (requiere query custom combinando `articles` + an√°lisis de ventas)
- ‚ùå Remitos sin facturar (requiere JOIN entre DeliveryNotes y Invoices)

---

### ¬øQu√© pens√°s?

¬øTe hace sentido este enfoque? Las cards financieras (cuentas por cobrar, deuda vencida, cobrado) son las que realmente mueven la aguja para tomar decisiones. El "total de facturas" es vanity metric - no te dice nada sobre la salud del negocio.

¬øQuer√©s que implemente primero las 4 cards financieras cr√≠ticas o prefer√≠s que priorice alguna otra √°rea (stock, clientes)?

---

